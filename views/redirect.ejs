<!DOCTYPE html>
<html>

<head>
  <title>Redirecting...</title>
  <meta http-equiv="refresh" content="12; URL=<%=REDIRECT_URL %>" />
  <style>
    @import 'https://fonts.googleapis.com/css?family=Ubuntu';

    html, body {
      background: #ffffff;
      background-image: url("https://149366088.v2.pressablecdn.com/wp-content/uploads/2019/06/adwaita-day.jpg");
      font-family: 'Ubuntu', sans-serif;
      font-size: 17px;
      cursor: url("https://cdn.discordapp.com/attachments/1011313549819269120/1012051862314307654/cursor.cur"), default;
    }





    .window {
      width: 600px;
      margin: 75px auto;
      background: #2c3e50;
      height: 350px;
      border-radius: 5px;
      display: relative;
      box-shadow: 10px 10px 10px #888888;
    }

    .afterclose {
      color: #34495e;
      display: none;
      text-align: center;
    }

    .open {
      color: #fff;
      padding: 15px;
      background: #2ecc71;
      border-radius: 4px;
      border: none;
    }

    .bash {
      width: 600px;
      background: #34495e;
      height: 310px;
      border-radius: 5px;
      top: 40px;
      display: absolute;
      color: #fff;
    }

    /* effected by controllers */

    .windowmax {
      width: 100%;
      margin: auto;
      background: #2c3e50;
      height: 1000px;
      border-radius: 5px;
      display: relative;
    }

    .windowmin {
      width: 300px;
      height: 45px;
      background: #2c3e50;
      border-radius: 5px;
      bottom: 0;
      position: fixed;
    }

    .bashmax {
      display: absolute;
      width: 100%;
      background: #34495e;
      height: 960px;
      border-radius: 5px;
      bottom: 0;
      color: #fff;
    }

    /* !--end--! */

    .buttons {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      float: right;
      margin: 13px 4px;
      border: none;
    }

    .close {
      background: #e74c3c;
    }

    .maximize {
      background: #f1c40f;
    }

    .minimize {
      background: #2ecc71;
    }

    .result {
      display: none;
    }

    .controls {
      height: 40px;
      top: 0;
    }

    .title {
      color: #fff;
      font-weight: bold;
      padding: 10px;
    }
  </style>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>
  <div class="window">
    <div class="controls">
      <button class="buttons close" id="close"></button>
      <button class="buttons maximize" href="#"></button>
      <button class="buttons minimize" href="#"></button>
      <div class="title">Redirect - redirect...</div>
    </div>
    <div class="bash">
      <!-- Create a Hidden Input with the value of HOST -->
      <input type="hidden" id="host" value="<%=HOST %>" />
      <span id="span">[root@<%= HOST %> ~]:$ </span>
      <span id="command"></span>
      <br>
      <span id="redirectSpan"> </span>
      <span class="it" id="result"></span>
      <br>
      <br>
      <span class="type-it"> </span>
      <br>
      <br>
      <div class="result">
        <span id="span2"> </span>
      </div>
    </div>
    <script>
      var host = document.getElementById("host").value;
      var query = window.location.search.substring(1);
      var url = query.split("=")[1];
      let commandField = document.getElementById("command");
      let resultField = document.getElementById("result");
      let redirectSpan = document.getElementById("redirectSpan");

      let terminalText = `[root@${host} ~]:$ `;
      
      let time = 9;
      let redirectCommand = `redirect ${url} --time 9`
      let redirectResult = `Redirecting to ${url} in ${time} seconds...`


      setInterval(() => {
        commandField.innerHTML = redirectCommand.substring(0, commandField.innerHTML.length + 1);



      }, 60);

      setTimeout(() => {
        
        setInterval(() => {
          redirectSpan.innerHTML = terminalText;
          resultField.innerHTML = redirectResult.substring(0, resultField.innerHTML.length + 1);
        }, 60);

      }, 3000);

     

      </script>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

</html>
